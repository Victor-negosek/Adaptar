import axios from "axios";
import { getCookie } from "cookies-next";

function getAPIClient() {
  let accessToken = getCookie("accessToken"); // => 'value'
  // let accessToken =
  //   "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjJaUXBKM1VwYmpBWVhZR2FYRUpsOGxWMFRPSSIsImtpZCI6IjJaUXBKM1VwYmpBWVhZR2FYRUpsOGxWMFRPSSJ9.eyJhdWQiOiIwYjA3ZjQyOS05ZjRiLTQ3MTQtOTM5Mi1jYzVlOGU4MGM4YjAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8wYzExMjkyNC05Y2U4LTRlMDAtYTRlNy1lNjViMTZlMWI4NjQvIiwiaWF0IjoxNjY1NzU1ODk1LCJuYmYiOjE2NjU3NTU4OTUsImV4cCI6MTY2NTc2MTM3OCwiYWNyIjoiMSIsImFpbyI6IkFXUUFtLzhUQUFBQTlCWHdueEswc1o4dkVrWW5yY1FvcUtVbHBiUkRaWHFiQ3RUVWFLU2NyYnE5UHBPTjhseDRpOUp1eGdOckFiUUplQmw2czU0RDIxcnpTSkNKMithRzFlQzZsS3BVRysrOGx5SmVXZlVIR3ROL3FqeG9USTRGK3dGM1IvbUJWREpxIiwiYWx0c2VjaWQiOiI1OjoxMDAzMjAwMTZCMDk2RjMzIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImVtYWlsIjoidmljdG9yLmh1Z28ubmVnb3Nlay5kZS5vbGl2ZWlyYUBpcHQuZnJhdW5ob2Zlci5kZSIsImZhbWlseV9uYW1lIjoiTmVnb3NlayIsImdpdmVuX25hbWUiOiJWaWN0b3IiLCJpZHAiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9mOTMwMzAwYy1jOTdkLTQwMTktYmUwMy1hZGQ2NTBhMTcxYzQvIiwiaXBhZGRyIjoiMTM0LjEzMC4xMTMuNDAiLCJuYW1lIjoiTmVnb3NlayBkZSBPbGl2ZWlyYSwgVmljdG9yIEh1Z28iLCJvaWQiOiIyNmViMjc3YS1iZDY2LTQzYjgtYTc0NS1jNmU5OGFjM2I1YTQiLCJwdWlkIjoiMTAwMzIwMDIxNUNBRDQ5RiIsInJoIjoiMC5BVTRBSkNrUkRPaWNBRTZrNS1aYkZ1RzRaQ24wQnd0TG54UkhrNUxNWG82QXlMQk9BUFkuIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiRDVzN3JYbUk1MFhObjlUVkpCSk4zbVB6RWtXcTJqQ254RjVRVlNMYV9JNCIsInRpZCI6IjBjMTEyOTI0LTljZTgtNGUwMC1hNGU3LWU2NWIxNmUxYjg2NCIsInVuaXF1ZV9uYW1lIjoidmljdG9yLmh1Z28ubmVnb3Nlay5kZS5vbGl2ZWlyYUBpcHQuZnJhdW5ob2Zlci5kZSIsInV0aSI6Imo1Z0N4enRyTEUtcXNDUk10N1FiQUEiLCJ2ZXIiOiIxLjAifQ.LCT75G2Y3HJ_dh9tGWq2ZsY4Bhin2tfc6oh6BHWzq5lGyb4NiTpazEnD62GTOG4YRDifL_2WO8iw72t8MRifPfsi1HLOUVUBpf4B0QeUzDToqRYnpAH7fPtgqjDpd2I-0PIogq_B3EkjQR-WCc7k_ZdEXDfu_xZ7Nly3JFcjDIYXRf8N6vLklnZs0zjJyDUCug7X4_oKMoDzxcr4RLxAM9VsmKNVycrXadcKW3s8RIs9PJp7ec4KJENufD_igKC5tyscADGYkrm4suS4zRGHEb9r3XrtFnXP7bBV_FdNHrYWekZ9kGyIQ707ACGkzp_lKjzWpeCMlwNlsbK8wqLXrg";
  const api = axios.create({
    // eslint-disable-next-line no-undef
    baseURL: "http://127.0.0.1:5000/api/v1",
    timeout: 5000,
    headers: {
      Authorization: "Bearer " + accessToken,
    },
  });

  return api;
}

export default getAPIClient;
